{% if admin %}
    {% extends 'BaseAdmin.html' %}
{% else %}
    {% extends 'BaseEnsiegnant.html' %}
{% endif %}
{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css')}}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/QCM.css')}}">
{% endblock %}
{% block aside %}
    <div id="aside_filtres">
        <h2>Filtres</h2>
        <button id="dep_fil" type="button" onclick="plie_deplie_semaines()">
        <img src="{{ url_for('static', filename='img/deplie.png') }}" alt="deplie" id="dep2"/></button>
    </div>
    <section id="groupe_filtre">
        <form method="POST" action="">
            {% if filtres.semaines.errors %}
            <div class="invalid-feedback">
                {% for error in filtres.semaines.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
            <select name="semaines" id="selec-sem">
                {% for sem in filtres.semaines %}
                    {{ sem }}
                {% endfor %}
            </select>
            <div id="aside_grp">
                <h3>Groupes</h3>
                <button id="dep_grp" type="button" onclick="plie_deplie_filtres()">
                    <img src="{{ url_for('static', filename='img/deplie.png') }}" alt="deplie" id="dep"/></button>
            </div>
            <fieldset class="form-group" id="grps_filtres">
                {% if filtres.groupes.errors %}
                <div class="invalid-feedback">
                    {% for error in filtres.groupes.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% endif %}
                {% for choice in filtres.groupes %}
                    <div class="form-check">
                        {{ choice(class="form-check-input") }}
                        {{ choice.label(class="form-check-label") }}
                    </div>
                {% endfor %}
            </fieldset>
        <input id="liaison_bd" class="btn_valide" value="Valider" type="submit"></input>
        </form>
</section>
{% endblock %}
{% block center %}
<section id="tableauqcm">
    <div class="jsp">
    <table id="labels">
        <thead id="QCM">
            <tr>
                <th id="titre_tableau_sondage" colspan="5"><H2>QCM</H2></th>
            </tr>
        </thead>
        <tr class="colonnes">
            <th class="noms">Etudiant</th>
            <th class="noms">Groupe</th>
            {% for matiere in matieres %}
                <th class="noms">{{ matiere }}</th>
            {% endfor %}
            <th class="noms">Soutien</th>
            <th class="noms">Voeu matiere</th>
        </tr>
        <tr id="moyennes">
            <th class="moy">Moyenne</th>
            <th class="moy">
                <select>
                    <option value="generale">Generale</option>
                    {% for groupe in groupes %}
                        <option value="{{ groupe }}">{{ groupe }}</option>
                    {% endfor %}
                </select>
            </th>
            {% for matiere,moyenne in res_bandeau %}
                <th class="moy">{{ moyenne }}</th>
            {% endfor %}
        </tr>
        </table>
        <table class="scrolable">
            <tbody>
            {% for eleve,groupe,qcms,rep_sond in resultats %}
                <tr>
                    <td><a href="{{url_for ('Suivie_etu')}}"> {{ eleve.nom }} {{ eleve.prenom }}</a></td>
                    <td>{{ groupe }}</td>
                    {% for qcm in qcms %}
                        <td>{{ qcm }}</td>
                    {% endfor %}
                    <td>{{ rep_sond.volontaire }}</td>
                    <td>{{ rep_sond.matiere_voulue }}</td>
                </tr>
            {% endfor %}
            </tbody>
    </table></div></section>
{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='JS/res_qcm.js') }}"></script>
{% endblock %}